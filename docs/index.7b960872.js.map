{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,cAGAC,iBACE,IACE,MAAMC,QAAa,EAAAH,EAAAI,oBACnBC,QAAQC,IAAIH,GACZ,MAAMI,GAAY,EAAAC,EAAAC,gBACAC,SAASC,eAAe,cAChCC,UAAYL,GAAWM,QAAU,KAU/C,SAAwBV,GACtB,MAAMW,EAAgBJ,SAASK,cAAc,oBAE7C,IAAK,IAAIC,EAAI,EAAGA,EAAIb,EAAKU,OAAQG,IAAK,CAEpC,MAAMC,EAAqBP,SAASQ,cAAc,OAClDD,EAAmBE,UAAUC,IAAI,YACjC,MAAMC,EAAiBX,SAASQ,cAAc,MACxCI,EAAkBZ,SAASQ,cAAc,MACzCK,EAAYb,SAASQ,cAAc,OACnCM,EAAgBd,SAASQ,cAAc,MAEvCO,EAAkBf,SAASQ,cAAc,UAC/CO,EAAgBb,UAAY,cACxBT,EAAKa,GAAGU,OAAS,IACnBD,EAAgBE,UAAW,GAE7BF,EAAgBG,GAAKzB,EAAKa,GAAGa,KAAO,SACpCJ,EAAgBK,iBAAiB,SAAS,KACpC3B,EAAKa,GAAGU,OAAS,GACnBK,MAAM,gBACNN,EAAgBE,UAAW,IAG3BtB,QAAQC,IAAI,0BAA2BH,EAAKa,KAC5C,EAAAR,EAAAwB,WAAU7B,EAAKa,IACjB,IAKFF,EAAcmB,YAAYhB,GAC1BA,EAAmBgB,YAAYZ,GAC/BJ,EAAmBgB,YAAYX,GAC/BL,EAAmBgB,YAAYV,GAC/BN,EAAmBgB,YAAYT,GAC/BP,EAAmBgB,YAAYR,GAE/BJ,EAAeT,UAAYT,EAAKa,GAAGa,KACnCP,EAAgBV,UAAYT,EAAKa,GAAGkB,MAAQ,MAC5CX,EAAUY,IAAMhC,EAAKa,GAAGoB,IACxBZ,EAAcZ,UAAY,qBAAuBT,EAAKa,GAAGU,KAC3D,CACF,CApDIW,CAAelC,IACf,EAAAK,EAAA8B,yBACF,CAAE,MAAOC,GACPlC,QAAQC,IAAIiC,EACd,CACF,CAEAC","sources":["src/modules/store.js"],"sourcesContent":["import { fetchingProducts } from \"./firebase.js\";\r\nimport { addToCart, getCartItems, setupCartItemAnimation } from \"./cart.js\";\r\n\r\nasync function initiateStore() {\r\n  try {\r\n    const data = await fetchingProducts();\r\n    console.log(data);\r\n    const cartItems = getCartItems();\r\n    const cartCount = document.getElementById(\"cart-count\");\r\n    cartCount.innerText = cartItems?.length || null;\r\n    displayProduct(data);\r\n    setupCartItemAnimation();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\ninitiateStore();\r\n\r\nfunction displayProduct(data) {\r\n  const maincontainer = document.querySelector(\"#plant-container\");\r\n\r\n  for (let i = 0; i < data.length; i++) {\r\n    // Create elements for product info\r\n    const smallDivForProduct = document.createElement(\"div\");\r\n    smallDivForProduct.classList.add(\"smalldiv\");\r\n    const nameForProduct = document.createElement(\"h1\");\r\n    const priceForProduct = document.createElement(\"h3\");\r\n    const showImage = document.createElement(\"img\");\r\n    const leftInStorage = document.createElement(\"h5\");\r\n    // Create an \"Add to cart\" button element\r\n    const addToCartButton = document.createElement(\"button\");\r\n    addToCartButton.innerText = \"Add to cart\";\r\n    if (data[i].saldo <= 0) {\r\n      addToCartButton.disabled = true;\r\n    }\r\n    addToCartButton.id = data[i].name + \"button\";\r\n    addToCartButton.addEventListener(\"click\", () => {\r\n      if (data[i].saldo <= 0) {\r\n        alert(\"Out of stock\");\r\n        addToCartButton.disabled = true;\r\n      } else {\r\n        // Add the product to the cart\r\n        console.log(\"Adding product to cart:\", data[i]);\r\n        addToCart(data[i]);\r\n      }\r\n    });\r\n    // Attach a click event handler to the button\r\n    // Add the product info and button to the page\r\n\r\n    maincontainer.appendChild(smallDivForProduct);\r\n    smallDivForProduct.appendChild(nameForProduct);\r\n    smallDivForProduct.appendChild(priceForProduct);\r\n    smallDivForProduct.appendChild(showImage);\r\n    smallDivForProduct.appendChild(leftInStorage);\r\n    smallDivForProduct.appendChild(addToCartButton);\r\n    // Set the content of the product info elements\r\n    nameForProduct.innerText = data[i].name;\r\n    priceForProduct.innerText = data[i].price + \" kr\";\r\n    showImage.src = data[i].img;\r\n    leftInStorage.innerText = \"Left in storage = \" + data[i].saldo;\r\n  }\r\n}\r\n"],"names":["$dk9H3","parcelRequire","async","data","fetchingProducts","console","log","cartItems","$8qmuQ","getCartItems","document","getElementById","innerText","length","maincontainer","querySelector","i","smallDivForProduct","createElement","classList","add","nameForProduct","priceForProduct","showImage","leftInStorage","addToCartButton","saldo","disabled","id","name","addEventListener","alert","addToCart","appendChild","price","src","img","$52b5c6783bdedd42$var$displayProduct","setupCartItemAnimation","error","$52b5c6783bdedd42$var$initiateStore"],"version":3,"file":"index.7b960872.js.map"}